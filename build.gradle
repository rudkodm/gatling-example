plugins {
    id 'com.github.lkishalmi.gatling' version '0.7.1'
    id 'scala'
}

repositories {
    jcenter()
}

dependencies {
    compile 'org.scala-lang:scala-library:2.12.3'
    testCompile 'org.scalatest:scalatest_2.12:3.0.0'
    testCompile 'junit:junit:4.12'
}

task wrapper(type: Wrapper) {
    gradleVersion = "4.10.2"
}

task('buildAll') {
    dependsOn clean, build, compileGatlingScala
    compileGatlingScala.shouldRunAfter build
    build.shouldRunAfter clean
}

gatling {
    simulations = [
            'load.simulations.ApiCrashTest'
    ]
}